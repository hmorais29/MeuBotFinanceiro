<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Agente de Trading</title>
</head>
<body>
    <h1>Backtest de Trading</h1>
    <form method="post">
        <label for="ticker">Ticker:</label>
        <select name="ticker" id="ticker">
            {% for ticker in tickers %}
                <option value="{{ ticker }}">{{ ticker }}</option>
            {% endfor %}
        </select><br>
        <label for="start_date">Data de Início:</label>
        <input type="date" name="start_date" id="start_date"><br>
        <label for="end_date">Data de Fim:</label>
        <input type="date" name="end_date" id="end_date"><br>
        <label for="capital">Capital Inicial:</label>
        <input type="number" name="capital" id="capital" value="10000"><br>
        <label for="take_profit">Take Profit (%):</label>
        <input type="number" name="take_profit" id="take_profit" value="5"><br>
        <label for="stop_loss">Stop Loss (%):</label>
        <input type="number" name="stop_loss" id="stop_loss" value="-3"><br>
        <input type="submit" value="Executar Backtest">
    </form>
    <h2>Resultados</h2>
    {{ result | safe }}
    <h2>Sugestão de Portfólio</h2>
    <ul>
        {% for item in portfolio %}
            <li>{{ item.ticker }} - Alocação: {{ item.allocation }}% - Entry: {{ item.entry_price }} - TP: {{ item.take_profit_price }} - SL: {{ item.stop_loss_price }}</li>
        {% endfor %}
    </ul>
</body>
</html>